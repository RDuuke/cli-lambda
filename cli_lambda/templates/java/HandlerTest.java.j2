package com.{{ package_name }};

import com.{{ package_name }}.dto.InputDto;
import com.{{ package_name }}.dto.OutputDto;
import com.{{ package_name }}.dto.ResponseEntity;
import com.{{ package_name }}.dto.StatusCode;
import org.junit.jupiter.api.Test;
import static org.junit.jupiter.api.Assertions.*;

public class HandlerTest {

    @Test
    public void shouldRespondWithGreeting() {
        // Arrange
        Handler handler = new Handler();
        InputDto input = new InputDto();
        input.setMessage("Iris");

        // Act
        ResponseEntity<OutputDto> response = handler.handleRequest(input, null);

        // Assert
        assertEquals(StatusCode.OK.getCode(), response.getStatusCode());
        assertNotNull(response.getBody());
        assertEquals("Hello, Iris", response.getBody().getMessage());
    }

    @Test
    public void shouldHandleNullMessageGracefully() {
        Handler handler = new Handler();
        InputDto input = new InputDto(); // message es null

        ResponseEntity<OutputDto> response = handler.handleRequest(input, null);

        assertEquals(StatusCode.OK.getCode(), response.getStatusCode());
        assertEquals("Hello, Unknown", response.getBody().getMessage());
    }
}
